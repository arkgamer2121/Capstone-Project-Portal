"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[92071],{969548:(e,a,l)=>{var n,i;l.r(a),l.d(a,{default:()=>r});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupLink_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"orig")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"PromotedLeadForm",kind:"LinkedField",name:"promotedLeadForm",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"leadFormId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};t.hash="5f9c26b5438f918b83ae4ce1ae943b66";let r=t},498594:(e,a,l)=>{var n,i,t;l.r(a),l.d(a,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CollageChips_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinTagChipImagesPerSpec",kind:"LinkedField",name:"pinTagsChips",plural:!0,selections:[{alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CollectionPin",kind:"LinkedField",name:"collectionPin",plural:!1,selections:[{alias:null,args:null,concreteType:"CollectionPinItem",kind:"LinkedField",name:"itemData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinId",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"750x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:[i,t,n],storageKey:'images(spec:"750x")'}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupLink_pin"},{alias:null,args:null,kind:"ScalarField",name:"dpaCreativeType",storageKey:null}],type:"Pin",abstractKey:null};r.hash="c167093f5b3fc6181bc8b26792c3248c";let s=r},598356:(e,a,l)=>{l.d(a,{Xx:()=>t});var n=l(667294);l(785893),(0,n.createContext)(void 0),l(214877);let i=(0,n.createContext)(void 0),t=()=>(0,n.useContext)(i)},392071:(e,a,l)=>{l.d(a,{Z:()=>c}),l(167912);var n,i=l(883119),t=l(986631),r=l(340523),s=l(338813),d=l(785893);let o={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}},u=void 0!==n?n:n=l(498594);function c({pinKey:e,enableCloseupLink:a}){let l=(0,t.Z)(u,e),{checkExperiment:n}=(0,r.F)(),{anyEnabled:c}=n("aid_web_collection_pin_data"),{aggregatedPinData:g,collectionPin:m,dpaCreativeType:p}=l,{pinTagsChips:y}=g||{},{itemData:_}=m||{},k=y&&y.length>=3?y.slice(0,3):[],h=_&&_.length>=3?_.slice(0,3):[];return c&&!p?(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:o.chipContainer},display:"flex",children:h.map(e=>{let n=e.images||{},t=(0,d.jsx)(i.Ee,{alt:"",fit:"cover",naturalHeight:n.height??1,naturalWidth:n.width??1,role:"presentation",src:n.url??""});return(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:o.chip},"data-test-id":"collageChip",children:(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:o.chipInner},position:"relative",children:(0,d.jsx)(i.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:(0,d.jsx)(i.zd,{height:"100%",wash:!0,width:"100%",children:a?(0,d.jsx)(s.Z,{collageChipId:e.pinId??"",pinKey:l,sizing:"fullSize",children:t}):t})})})},e.pinId)})}):(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:o.chipContainer},display:"flex",children:k.map(e=>{let n=e.image||{},t=(0,d.jsx)(i.Ee,{alt:"",fit:"cover",naturalHeight:n.height??1,naturalWidth:n.width??1,role:"presentation",src:n.url??""});return(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:o.chip},"data-test-id":"collageChip",children:(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:o.chipInner},position:"relative",children:(0,d.jsx)(i.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:(0,d.jsx)(i.zd,{height:"100%",wash:!0,width:"100%",children:a?(0,d.jsx)(s.Z,{collageChipId:e.entityId??"",pinKey:l,sizing:"fullSize",children:t}):t})})})},e.entityId)})})}},879977:(e,a,l)=>{l.d(a,{B:()=>n,E:()=>i});let{Provider:n,useHook:i}=(0,l(342513).Z)("trackingParametersContext")},338813:(e,a,l)=>{l.d(a,{Z:()=>P});var n,i=l(667294);l(167912);var t=l(883119),r=l(433287),s=l(340523),d=l(554786);let o={employees:100,enabled_100:100,enabled_200:200,enabled_300:300};var u=l(598356),c=l(214877),g=l(986631),m=l(140017),p=l(340370),y=l(427514),_=l(268127),k=l(149722),h=l(879977),S=l(237040),v=l(343142),I=l(907177),x=l(785893);let F=void 0!==n?n:n=l(969548);function P({sizing:e="default",children:a,collageChipId:l,componentType:n,contextLogData:P,elementType:b,disableA11yLabel:K,isEggsUi:f,pinKey:L,derivedSaveButtonOptionsSavedInfo:T,productTagParentPinId:w,viewParameter:C,viewType:D}){let j=(0,m.ZP)(),E=(0,g.Z)(F,L),{logContextEvent:A}=(0,c.v)(),Z=(0,h.E)(),{checkExperiment:z}=(0,s.F)(),{isAuth:H}=(0,k.Z)(),U=(0,i.useRef)(null),{preloadQuery:B}=(0,I.Us)(),O=z("web_easy_gift_guide_saving",{dangerouslySkipActivation:!0}).anyEnabled,{isGraphQLEnabledInGeneral:M}=(0,S.nF)(),R=z("closeup_dweb_preload_closeup_query_before_navigation").anyEnabled,W=Z.contextLogData?.story_type==="product_tagged_shopping_module_upsell",{isCloseupRelatedPinsAboveTheFoldEnabled:$}=(0,r.Z)(H),G=H&&z("closeup_dweb_remove_magnifying_glass").anyEnabled,{isPrefetchImageOnHoverEnabled:N,prefetchAfterMs:X}=function(){let e=(0,d.HG)(),{checkExperiment:a}=(0,s.F)(),l=a("closeup_dweb_prefetch_image_on_hover");return{isPrefetchImageOnHoverEnabled:e&&l.anyEnabled,prefetchAfterMs:o[l.group]||null}}(),{carouselData:q,entityId:J}=E,Q=!!E.promotedIsLeadAd,V=(0,i.useMemo)(()=>E?.imageSpec_564x?.url||E?.imageSpec_736x?.url||E?.imageSpec_orig?.url||E?.imageSpec_474x?.url||E?.imageSpec_236x?.url,[E]),Y={},ee=`/pin/${l||J}/`,ea=(0,u.Xx)();if(ea?.variantUrl&&(ee=`/pin/${ea.variantUrl}/`),q){let{carouselSlots:e,entityId:a}=q,l=q.index??0;ee=`/pin/${J}/`,Y={carousel_slot_id:e?.[l]&&e[l].entityId,carousel_data_id:a,carousel_slot_index:l}}let el=(0,_.Z)(E);Y={...Y,...el({default:P?.commerce_data})};let en=()=>{let e={};if(Q)A({event_type:8948,view_type:D||Z.viewType,view_parameter:C||Z.viewParameter,component:null,object_id_str:E.entityId,clientTrackingParams:E?.trackingParams,aux_data:{closeup_navigation_type:"click",lead_form_id:E.promotedLeadForm?.leadFormId,is_lead_ad:1}}),A({event_type:12,view_type:D||Z.viewType,view_parameter:C||Z.viewParameter,component:null,object_id_str:E.entityId,clientTrackingParams:E?.trackingParams,aux_data:{lead_form_id:E.promotedLeadForm?.leadFormId,is_lead_ad:1,...el()}});else{let a={...P,...el({default:P?.commerce_data})};A({event_type:101,component:n||Z.componentType,element:b,object_id_str:J,clientTrackingParams:E?.trackingParams,view_type:D||Z.viewType,view_parameter:C||Z.viewParameter,aux_data:a}),W&&(e={storyPinProductEventData:{productPinIdStr:J,pinIdStr:w}}),A({aux_data:{closeup_navigation_type:"click",...a},component:n||Z.componentType,element:b,event_data:e,event_type:8948,clientTrackingParams:E?.trackingParams,object_id_str:J,view_type:D||Z.viewType,view_parameter:C||Z.viewParameter})}},ei=(0,i.useCallback)(async()=>{N&&X&&V&&(U.current=window.setTimeout(async()=>{new Image().src=V},X))},[U,N,X,V]),et=(0,i.useCallback)(()=>{N&&U.current&&(clearTimeout(U.current),U.current=null)},[U,N]),er={pathname:ee,state:{trackingParams:E?.trackingParams,...T&&{board:T},...O&&{fromEggsBoard:f}}},es=(0,p.Z)({href:er,clientTrackingParams:E?.trackingParams,externalData:{auxData:Y,pin:E&&{advertiserId:E.advertiserId,attributionSourceId:E.attributionSourceId,board:E.board&&{url:E.board.url},campaignId:E.campaignId,entityId:E.entityId,isDownstreamPromotion:E.isDownstreamPromotion,isPromoted:E.isPromoted,pinner:E.pinner&&{username:E.pinner.username},pinPromotionId:E.pinPromotionId,promoter:E.promoter&&{entityId:E.promoter.entityId},storyPinDataId:E.storyPinDataId,trackingParams:E.trackingParams}}}),ed=(0,i.useCallback)(()=>{R&&M&&B((0,v.D)({pinId:E.entityId}))},[E.entityId,B,R,M]);return(0,x.jsx)(t.Tg,{accessibilityLabel:K?void 0:(0,y.Z)(j._('{{ pinTitle }} pin page', 'pinRep.closeupLink.tapArea.accessibilityLabel', 'Accessibility label with pin title on individual links'),{pinTitle:E.gridTitle||E.title||E.description||""}),fullHeight:"fullSize"===e,fullWidth:"fullSize"===e,href:ee,mouseCursor:$||G?void 0:"zoomIn",onMouseEnter:ei,onMouseLeave:et,onTap:({event:e,dangerouslyDisableOnNavigation:a})=>{a(),en(),ed(),es({event:e})},rounding:2,children:a})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/92071-6b8137c30b34ec39.mjs.map